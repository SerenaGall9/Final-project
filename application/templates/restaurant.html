{% extends "layout2.html" %}

{% block body_content %}
<style>
html {
  scroll-behavior: smooth;
  scroll-snap-type: y mandatory;
}

main {
  margin-top: -80px;
}

.content-block {
  padding-top: 0;
}

.scroll-container {
  overflow-y: auto;
  height: 100vh;
  scroll-snap-type: y mandatory;
}

/* Snap sections */
.scroll-section {
  scroll-snap-align: start;
  min-height: 100vh;
  padding: 100px 20px;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

@keyframes fadeUp {
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.banner-overlay {
  animation: fadeUp 1s ease-out forwards;
}

.banner-image {
  width: 100%;
  height: 80vh; /* Taller hero */
  object-fit: cover;
  filter: brightness(70%); /* darken image slightly so text pops */
}

.banner-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.4); /* semi-transparent black */
  backdrop-filter: blur(2px);
  padding: 0 2rem;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

.restaurant-title {
  font-family: 'Playfair Display', serif;
  font-size: 4rem;
  color: #d2cac5;
  margin-bottom: 1rem;
}

.restaurant-description {
  font-family: 'Lato', sans-serif;
  font-size: 1.5rem;
  max-width: 800px;
  color: #d2cac5;
  text-shadow: 1px 1px 5px rgba(0,0,0,0.7);
}


  body {
  text-align: center;
  font-family: 'Lora', serif;
  background: linear-gradient(to bottom, #152334, #331B22, #27263F, #172A3A);
  background-attachment: fixed; /* subtle parallax feeling */
  background-size: cover;
  background-repeat: no-repeat;
  background-position: center;
  color: #D2CAC5 !important;
  min-height: 100vh;
}

/* Carousel images */
.carousel-inner img {
  width: 100%;
  height: 600px;
  object-fit: cover;
  border-radius: 20px;
}

/* Buttons & Text */
.btn-custom {
  background-color: #468099;
  color: #d2cac5;
  font-size: 1.1rem;
  border: none;
  padding: 0.8rem 2rem;
  border-radius: 5px;
  transition: background-color 0.3s, transform 0.2s;
}

.btn-custom:hover {
  background-color: #355e73;
  transform: scale(1.05);
}

a {
  color: #8B95C9;
}

.details-section a {
  color: #d2cac5;
  text-decoration: underline;
}

.details-section a:hover {
  color: #8B95C9;
}

.reviews-title {
  font-family: 'Lora', serif;
  font-size: 2.5rem;
  color: #d2cac5;
}

h1.restaurant-title {
  font-family: 'Lora', serif;
  font-size: 3rem;
  color: #d2cac5;
}

p.restaurant-description {
  font-size: 1.2rem;
  color: #d2cac5;
}

/* Carousel controls */
.carousel-control-prev-icon,
.carousel-control-next-icon {
  background-color: #D2CAC5;
  border-radius: 50%;
}
</style>

<div class="scroll-container">


<!-- === Hero Section with Overlay Text === -->
<section class="scroll-section section-1 p-0 m-0" style="margin-top: 0;">
  <div class="position-relative">
    <!-- Banner image -->
    <img src="{{ url_for('static', filename=banner_image) }}" alt="{{ name }}" class="img-fluid w-100 banner-image">

    <!-- Overlay text -->
    <div class="banner-overlay d-flex flex-column justify-content-center align-items-center text-center">
      <h1 class="restaurant-title">{{ name }}</h1>
      <p class="restaurant-description">{{ description }}</p>
    </div>
  </div>
</section>



<!-- === Details + Review Button Section === -->
<section class="scroll-section section-2 d-flex align-items-center justify-content-center details-section">
  <div class="container d-flex flex-column flex-md-row align-items-center justify-content-around">
    <div class="text-center mb-5 mb-md-0" style="flex:1;">
      <h2 style="font-family: 'Lora', serif; font-size: 3rem; color: #d2cac5;">Give Us Your Thoughts</h2>
      <a href="{{ url_for('review', restaurant_id=restaurant_id) }}">
        <button class="btn btn-custom mt-3">Leave a Review</button>
      </a>
    </div>
    <div style="flex:1; max-width: 600px; min-width: 300px; max-height: 600px; text-align: center;">
      <h2 class="mb-4" style="font-family: 'Lora', serif; font-size: 2.5rem; color: #d2cac5;">The Little Details</h2>
      <p><strong>Address:</strong> {{ address }}</p>
      <p><strong>Phone:</strong> {{ phone_number }}</p>
      <p><strong>Website:</strong> <a href="{{ website }}" target="_blank">{{ website }}</a></p>
      <p><strong>Price Range:</strong> {{ price_range }}</p>
      <p><strong>Cuisine:</strong> {{ cuisine }}</p>
      <div class="text-left mt-4">
        <a href="{{ menu_link }}" target="_blank" class="btn btn-custom">View Menu</a>
      </div>
    </div>
  </div>
</section>

<!-- === Restaurant Images Carousel === -->
{% if images %}
<section class="scroll-section section-3">
  <div class="container">
    <div id="restaurantCarousel" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner">
        {% for image in images %}
        <div class="carousel-item {% if loop.first %}active{% endif %}">
          <img src="{{ url_for('static', filename=image) }}" alt="Restaurant Image {{ loop.index }}">
        </div>
        {% endfor %}
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#restaurantCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#restaurantCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
  </div>
</section>
{% endif %}

<!-- === Community Reviews Carousel Section === -->
<section class="scroll-section section-4">
  <div class="container">
    <div class="text-center mb-5">
      <h2 class="reviews-title">See What Our Community Thinks</h2>
    </div>
    {% if reviews %}
    <div id="reviewsCarousel" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner">
        {% for review in reviews %}
        <div class="carousel-item {% if loop.first %}active{% endif %}">
          <div class="text-center">
            <h5 class="title">"{{ review.Overall_review }}"</h5>
            <p><strong>By:</strong> {{ review.user_name }}</p>
            <p><strong>Overall:</strong> {{ review.Rating }}</p>
            <p><strong>Ambience:</strong> {{ review.Ambience }}</p>
            <p><strong>Service:</strong> {{ review.Service }}</p>
            <p><strong>Location:</strong> {{ review.Location }}</p>
            <p><strong>Value:</strong> {{ review.Value_for_money }}</p>
          </div>
        </div>
        {% endfor %}
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#reviewsCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon"></span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#reviewsCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon"></span>
      </button>
    </div>
    {% else %}
    <p class="text-center">No reviews yet. Be the first to leave one!</p>
    {% endif %}
  </div>
</section>

</div>
{% endblock %}
